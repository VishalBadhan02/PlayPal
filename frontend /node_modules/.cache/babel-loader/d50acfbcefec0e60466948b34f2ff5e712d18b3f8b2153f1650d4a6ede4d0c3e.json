{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddPlayer=()=>{const token=localStorage.getItem('token');const[list,setList]=useState([]);useEffect(()=>{setFriends();},[]);const setFriends=async()=>{const token=localStorage.getItem('token');try{axios.defaults.headers.common[\"Authorization\"]=token;const res=await axios.get(\"http://127.0.0.1:5050/user/yourFriends\");setList([...res.data.friends,...res.data.friend]);}catch(err){toast.error(\"error in yourFriends\",err);}};const handleAddPlayer=async user_id=>{try{axios.defaults.headers.common[\"Authorization\"]=token;console.log(user_id);const res=await axios.post(\"http://127.0.0.1:5050/user/addPlayer\",{user_id});}catch(err){toast.error(\"error in app player\",err);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-3 border standerd-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row-sm p-2 bg-warning rounded-1 rounded-bottom-0 text-center \",children:/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold text-primary m-0 \",children:\"Players\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row-sm p-2 \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-100 \",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search\",name:\"\",id:\"\"}),list&&list.map((value,index)=>{var _value$request,_value$user_id;return/*#__PURE__*/_jsx(\"tr\",{className:\"  \",children:/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row-sm d-flex p-2 bg-light rounded-2 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-9 fw-bold\",children:[((_value$request=value.request)===null||_value$request===void 0?void 0:_value$request.userName)||((_value$user_id=value.user_id)===null||_value$user_id===void 0?void 0:_value$user_id.userName),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3 text-end px-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm\",onClick:()=>{var _value$user_id2;return handleAddPlayer(value.request._id||((_value$user_id2=value.user_id)===null||_value$user_id2===void 0?void 0:_value$user_id2._id));},children:\"Add\"})})]})})});})]})})]})});};export default AddPlayer;","map":{"version":3,"names":["axios","useEffect","useState","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddPlayer","token","localStorage","getItem","list","setList","setFriends","defaults","headers","common","res","get","data","friends","friend","err","error","handleAddPlayer","user_id","console","log","post","children","className","type","placeholder","name","id","map","value","index","_value$request","_value$user_id","request","userName","onClick","_value$user_id2","_id"],"sources":["/Volumes/Udata/GitHub/Playpal/frontend /src/Pages/tables/addPlayer.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\nconst AddPlayer = () => {\n    const token = localStorage.getItem('token')\n\n    const [list, setList] = useState([]);\n\n\n    useEffect(() => {\n        setFriends();\n    }, [])\n\n    const setFriends = async () => {\n        const token = localStorage.getItem('token')\n        try {\n            axios.defaults.headers.common[\"Authorization\"] = token;\n            const res = await axios.get(\"http://127.0.0.1:5050/user/yourFriends\");\n            setList([...res.data.friends, ...res.data.friend]);\n        } catch (err) {\n            toast.error(\"error in yourFriends\", err)\n        }\n    }\n\n    const handleAddPlayer = async (user_id) => {\n        try {\n            axios.defaults.headers.common[\"Authorization\"] = token;\n            console.log(user_id)\n            const res = await axios.post(\"http://127.0.0.1:5050/user/addPlayer\", { user_id })\n        } catch (err) {\n            toast.error(\"error in app player\", err)\n        }\n    }\n\n    return (\n        <>\n            <div className=\"rounded-3 border standerd-background\">\n                <div className=\"row-sm p-2 bg-warning rounded-1 rounded-bottom-0 text-center \">\n                    <p className=\"fw-bold text-primary m-0 \">Players</p>\n                </div>\n                <div className=\"row-sm p-2 \">\n                    <table className=\"w-100 \">\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Search\" name=\"\" id=\"\" />\n                        {list && list.map((value, index) => (\n                            <tr className=\"  \">\n                                <td className=\"p-2\">\n                                    <div className=\"row-sm d-flex p-2 bg-light rounded-2 \">\n                                        <div className=\"col-9 fw-bold\">{value.request?.userName || value.user_id?.userName} </div>\n                                        <div className=\"col-3 text-end px-2\">\n                                            <button className=\"btn btn-primary btn-sm\"\n                                                onClick={() => handleAddPlayer(value.request._id || value.user_id?._id)}>Add</button>\n                                        </div>\n                                    </div>\n\n                                </td>\n\n                            </tr>\n                        ))}\n\n                    </table>\n                </div>\n            </div>\n        </>\n    )\n}\nexport default AddPlayer"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAGpCD,SAAS,CAAC,IAAM,CACZe,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,KAAM,CAAAL,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CACAb,KAAK,CAACiB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAGR,KAAK,CACtD,KAAM,CAAAS,GAAG,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,CAAC,wCAAwC,CAAC,CACrEN,OAAO,CAAC,CAAC,GAAGK,GAAG,CAACE,IAAI,CAACC,OAAO,CAAE,GAAGH,GAAG,CAACE,IAAI,CAACE,MAAM,CAAC,CAAC,CACtD,CAAE,MAAOC,GAAG,CAAE,CACVtB,KAAK,CAACuB,KAAK,CAAC,sBAAsB,CAAED,GAAG,CAAC,CAC5C,CACJ,CAAC,CAED,KAAM,CAAAE,eAAe,CAAG,KAAO,CAAAC,OAAO,EAAK,CACvC,GAAI,CACA5B,KAAK,CAACiB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAGR,KAAK,CACtDkB,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC,CACpB,KAAM,CAAAR,GAAG,CAAG,KAAM,CAAApB,KAAK,CAAC+B,IAAI,CAAC,sCAAsC,CAAE,CAAEH,OAAQ,CAAC,CAAC,CACrF,CAAE,MAAOH,GAAG,CAAE,CACVtB,KAAK,CAACuB,KAAK,CAAC,qBAAqB,CAAED,GAAG,CAAC,CAC3C,CACJ,CAAC,CAED,mBACIpB,IAAA,CAAAI,SAAA,EAAAuB,QAAA,cACIzB,KAAA,QAAK0B,SAAS,CAAC,sCAAsC,CAAAD,QAAA,eACjD3B,IAAA,QAAK4B,SAAS,CAAC,+DAA+D,CAAAD,QAAA,cAC1E3B,IAAA,MAAG4B,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,SAAO,CAAG,CAAC,CACnD,CAAC,cACN3B,IAAA,QAAK4B,SAAS,CAAC,aAAa,CAAAD,QAAA,cACxBzB,KAAA,UAAO0B,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACrB3B,IAAA,UAAO6B,IAAI,CAAC,MAAM,CAACD,SAAS,CAAC,cAAc,CAACE,WAAW,CAAC,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACC,EAAE,CAAC,EAAE,CAAE,CAAC,CAChFvB,IAAI,EAAIA,IAAI,CAACwB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,QAAAC,cAAA,CAAAC,cAAA,oBAC3BrC,IAAA,OAAI4B,SAAS,CAAC,IAAI,CAAAD,QAAA,cACd3B,IAAA,OAAI4B,SAAS,CAAC,KAAK,CAAAD,QAAA,cACfzB,KAAA,QAAK0B,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eAClDzB,KAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAD,QAAA,EAAE,EAAAS,cAAA,CAAAF,KAAK,CAACI,OAAO,UAAAF,cAAA,iBAAbA,cAAA,CAAeG,QAAQ,KAAAF,cAAA,CAAIH,KAAK,CAACX,OAAO,UAAAc,cAAA,iBAAbA,cAAA,CAAeE,QAAQ,EAAC,GAAC,EAAK,CAAC,cAC1FvC,IAAA,QAAK4B,SAAS,CAAC,qBAAqB,CAAAD,QAAA,cAChC3B,IAAA,WAAQ4B,SAAS,CAAC,wBAAwB,CACtCY,OAAO,CAAEA,CAAA,QAAAC,eAAA,OAAM,CAAAnB,eAAe,CAACY,KAAK,CAACI,OAAO,CAACI,GAAG,IAAAD,eAAA,CAAIP,KAAK,CAACX,OAAO,UAAAkB,eAAA,iBAAbA,eAAA,CAAeC,GAAG,EAAC,EAAC,CAAAf,QAAA,CAAC,KAAG,CAAQ,CAAC,CACxF,CAAC,EACL,CAAC,CAEN,CAAC,CAEL,CAAC,EACR,CAAC,EAEC,CAAC,CACP,CAAC,EACL,CAAC,CACR,CAAC,CAEX,CAAC,CACD,cAAe,CAAAtB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}