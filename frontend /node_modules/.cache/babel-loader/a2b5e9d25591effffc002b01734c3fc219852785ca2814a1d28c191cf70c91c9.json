{"ast":null,"code":"import{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OtpVerification=()=>{const navigate=useNavigate();const[otp,setoneTimePassword]=useState();const Otphandle=async e=>{var _window$location,_window$location$path;e.preventDefault();axios.defaults.headers.common['Authorization']=(_window$location=window.location)===null||_window$location===void 0?void 0:(_window$location$path=_window$location.pathname)===null||_window$location$path===void 0?void 0:_window$location$path.split('/otpverify/')[1];const res=await axios.post(\"http://127.0.0.1:5050/auth/otpverify\",{otp});if(res.data.status===true){localStorage.setItem(\"token\",res.data.data.token);toast.success(\"Otp verified\");return navigate(\"/\");}return toast.error(\"OTP verification failed. Please try again\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{required:\"\",className:\" input\",type:\"oneTimePassword\",name:\"oneTimePassword\",id:\"oneTimePassword\",placeholder:\"Verify-otp\",onKeyUp:e=>setoneTimePassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button \",onClick:Otphandle,children:\"Verify OTP\"})]})})})})});};export default OtpVerification;","map":{"version":3,"names":["useState","axios","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OtpVerification","navigate","otp","setoneTimePassword","Otphandle","e","_window$location","_window$location$path","preventDefault","defaults","headers","common","window","location","pathname","split","res","post","data","status","localStorage","setItem","token","success","error","children","className","required","type","name","id","placeholder","onKeyUp","target","value","onClick"],"sources":["/Volumes/Udata/GitHub/Playpal/frontend /src/components/otpVerification.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\n\nconst OtpVerification = () => {\n    const navigate = useNavigate();\n    const [otp, setoneTimePassword] = useState();\n\n    const Otphandle = async (e) => {\n        e.preventDefault();\n        axios.defaults.headers.common['Authorization'] = window.location?.pathname?.split('/otpverify/')[1];\n        const res = await axios.post(\"http://127.0.0.1:5050/auth/otpverify\", { otp })\n        if (res.data.status === true) {\n            localStorage.setItem(\"token\", res.data.data.token)\n            toast.success(\"Otp verified\")\n            return navigate(\"/\");\n        }\n        return toast.error(\"OTP verification failed. Please try again\");\n    }\n\n    return (\n        <>\n            <div className=\"d-flex justify-content-center\">\n                <div className=\"col-3\">\n                    <div className=\"container\">\n                        <form className=\"form\">\n                            <input\n                                required=\"\"\n                                className=\" input\"\n                                type=\"oneTimePassword\"\n                                name=\"oneTimePassword\"\n                                id=\"oneTimePassword\"\n                                placeholder=\"Verify-otp\"\n                                onKeyUp={(e) => setoneTimePassword(e.target.value)}\n                            />\n                            <button className=\"login-button \" onClick={Otphandle}>Verify OTP</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default OtpVerification;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpC,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,GAAG,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAE5C,KAAM,CAAAc,SAAS,CAAG,KAAO,CAAAC,CAAC,EAAK,KAAAC,gBAAA,CAAAC,qBAAA,CAC3BF,CAAC,CAACG,cAAc,CAAC,CAAC,CAClBjB,KAAK,CAACkB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,EAAAL,gBAAA,CAAGM,MAAM,CAACC,QAAQ,UAAAP,gBAAA,kBAAAC,qBAAA,CAAfD,gBAAA,CAAiBQ,QAAQ,UAAAP,qBAAA,iBAAzBA,qBAAA,CAA2BQ,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CACnG,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAzB,KAAK,CAAC0B,IAAI,CAAC,sCAAsC,CAAE,CAAEf,GAAI,CAAC,CAAC,CAC7E,GAAIc,GAAG,CAACE,IAAI,CAACC,MAAM,GAAK,IAAI,CAAE,CAC1BC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,GAAG,CAACE,IAAI,CAACA,IAAI,CAACI,KAAK,CAAC,CAClD7B,KAAK,CAAC8B,OAAO,CAAC,cAAc,CAAC,CAC7B,MAAO,CAAAtB,QAAQ,CAAC,GAAG,CAAC,CACxB,CACA,MAAO,CAAAR,KAAK,CAAC+B,KAAK,CAAC,2CAA2C,CAAC,CACnE,CAAC,CAED,mBACI7B,IAAA,CAAAI,SAAA,EAAA0B,QAAA,cACI9B,IAAA,QAAK+B,SAAS,CAAC,+BAA+B,CAAAD,QAAA,cAC1C9B,IAAA,QAAK+B,SAAS,CAAC,OAAO,CAAAD,QAAA,cAClB9B,IAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACtB5B,KAAA,SAAM6B,SAAS,CAAC,MAAM,CAAAD,QAAA,eAClB9B,IAAA,UACIgC,QAAQ,CAAC,EAAE,CACXD,SAAS,CAAC,QAAQ,CAClBE,IAAI,CAAC,iBAAiB,CACtBC,IAAI,CAAC,iBAAiB,CACtBC,EAAE,CAAC,iBAAiB,CACpBC,WAAW,CAAC,YAAY,CACxBC,OAAO,CAAG3B,CAAC,EAAKF,kBAAkB,CAACE,CAAC,CAAC4B,MAAM,CAACC,KAAK,CAAE,CACtD,CAAC,cACFvC,IAAA,WAAQ+B,SAAS,CAAC,eAAe,CAACS,OAAO,CAAE/B,SAAU,CAAAqB,QAAA,CAAC,YAAU,CAAQ,CAAC,EACvE,CAAC,CACN,CAAC,CACL,CAAC,CACL,CAAC,CACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAzB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}