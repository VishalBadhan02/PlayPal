{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FindFriend=()=>{const token=localStorage.getItem(\"token\");const[list,setList]=useState([]);useEffect(()=>{setfriend();},[]);const setfriend=async()=>{try{axios.defaults.headers.common[\"Authorization\"]=token;const res=await axios.get(\"http://127.0.0.1:5050/user/getFriend\");setList(res.data);}catch(err){toast.error(err.response.data.message);}};const HandleAddFriend=async user_id=>{localStorage.setItem(\"request\",user_id);try{axios.defaults.headers.common[\"Authorization\"]=token;const res=await axios.post(\"http://127.0.0.1:5050/user/friendRequest\",{request:user_id});}catch(err){toast.error(err.response.data.message);}};const HandleUndoFriend=async user_id=>{try{const res=await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\",{data:{user_id}});}catch(err){toast.error(\"Error in deleting request\",err.response.data.message);}};const handleUnfriend=async user_id=>{console.log(user_id);try{const res=await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\",{data:{user_id}});}catch(err){toast.error(\"error in un friend\",err);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-light \",children:list&&list.map((value,index)=>{var _value$friends,_value$friends2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\" row p-2  \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-1 p-0 text-center justify-content-center d-flex\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\"),style:{width:40},alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col text-left \",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0 \",children:/*#__PURE__*/_jsx(\"strong\",{children:value.userName})}),/*#__PURE__*/_jsxs(\"span\",{className:\"\",children:[value.team||\"Invite\",\" \"]})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-end\",children:[value.friends==null&&/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-primary text-white fw-bold btn-sm\",onClick:()=>HandleAddFriend(value._id),children:\"Add Friend\"}),value.friends&&((_value$friends=value.friends)===null||_value$friends===void 0?void 0:_value$friends.status)==0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-primary text-white fw-bold btn-sm\",onClick:()=>HandleUndoFriend(value._id),children:\"Undo\"}),value.friends&&((_value$friends2=value.friends)===null||_value$friends2===void 0?void 0:_value$friends2.status)==1&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn  text-white fw-bold btn-sm\",onClick:()=>handleUnfriend(value._id),style:{background:\"#FF0833\"},children:\"UnFriend\"})})]})]},index);})})})})})});};export default FindFriend;","map":{"version":3,"names":["axios","useEffect","useState","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FindFriend","token","localStorage","getItem","list","setList","setfriend","defaults","headers","common","res","get","data","err","error","response","message","HandleAddFriend","user_id","setItem","post","request","HandleUndoFriend","delete","handleUnfriend","console","log","children","className","map","value","index","_value$friends","_value$friends2","src","require","style","width","alt","userName","team","friends","onClick","_id","status","background"],"sources":["/Volumes/Udata/GitHub/Playpal/frontend /src/Pages/user/findfriends.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\nconst FindFriend = () => {\n    const token = localStorage.getItem(\"token\");\n    const [list, setList] = useState([]);\n\n\n    useEffect(() => {\n        setfriend();\n    }, []);\n\n\n\n    const setfriend = async () => {\n        try {\n            axios.defaults.headers.common[\"Authorization\"] = token;\n            const res = await axios.get(\"http://127.0.0.1:5050/user/getFriend\");\n            setList(res.data);\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    };\n\n    const HandleAddFriend = async (user_id) => {\n        localStorage.setItem(\"request\", user_id)\n        try {\n            axios.defaults.headers.common[\"Authorization\"] = token;\n            const res = await axios.post(\"http://127.0.0.1:5050/user/friendRequest\", {\n                request: user_id,\n            });\n\n\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    };\n\n    const HandleUndoFriend = async (user_id) => {\n        try {\n            const res = await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\", {\n                data: { user_id }\n            })\n        } catch (err) {\n            toast.error(\"Error in deleting request\", err.response.data.message);\n        }\n    }\n\n    const handleUnfriend = async (user_id) => {\n        console.log(user_id)\n        try {\n            const res = await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\", {\n                data: { user_id }\n            })\n        } catch (err) {\n            toast.error(\"error in un friend\", err)\n        }\n    }\n\n    return (\n        <>\n            <div className=\"container-fluid \">\n                <div className=\"row \">\n                    <table>\n                        <tbody className=\"bg-light \">\n                            {list &&\n                                list.map((value, index) => (\n                                    <tr key={index}>\n                                        <td>\n                                            <div className=\" row p-2  \">\n                                                <div className=\"col-1 p-0 text-center justify-content-center d-flex\">\n                                                    {\" \"}\n                                                    <img\n                                                        src={require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\")}\n                                                        style={{ width: 40 }}\n                                                        alt=\"\"\n                                                    />\n                                                </div>\n                                                <div className=\"col text-left \">\n                                                    <p className=\"m-0 \"><strong>{value.userName}</strong></p>\n                                                    <span className=\"\">{value.team || `Invite`} </span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td className=\"text-end\">\n                                            {value.friends == null &&\n                                                <button\n                                                    className=\"btn bg-primary text-white fw-bold btn-sm\"\n                                                    onClick={() => HandleAddFriend(value._id)}\n                                                >\n                                                    Add Friend\n                                                </button>\n                                            }\n\n                                            {value.friends && value.friends?.status == 0 && <button\n                                                className=\"btn bg-primary text-white fw-bold btn-sm\"\n                                                onClick={() => HandleUndoFriend(value._id)}\n                                            >\n                                                Undo\n                                            </button>\n                                            }\n\n                                            {value.friends && value.friends?.status == 1 &&\n                                                (<>\n                                                    <button\n                                                        className=\"btn  text-white fw-bold btn-sm\"\n                                                        onClick={() => handleUnfriend(value._id)} style={{ background: \"#FF0833\" }}\n                                                    >\n                                                        UnFriend\n                                                    </button></>)\n                                            }\n                                        </td>\n                                    </tr>\n                                ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default FindFriend;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}