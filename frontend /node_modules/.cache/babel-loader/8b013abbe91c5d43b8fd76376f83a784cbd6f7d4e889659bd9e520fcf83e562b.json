{"ast":null,"code":"var _jsxFileName = \"/Volumes/Udata/GitHub/Playpal/frontend /src/Pages/user/findfriends.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FindFriend = () => {\n  _s();\n  const token = localStorage.getItem(\"token\");\n  const [list, setList] = useState([]);\n  useEffect(() => {\n    setfriend();\n  }, []);\n  const setfriend = async () => {\n    try {\n      axios.defaults.headers.common[\"Authorization\"] = token;\n      const res = await axios.get(\"http://127.0.0.1:5050/user/getFriend\");\n      setList(res.data);\n    } catch (err) {\n      toast.error(err.response.data.message);\n    }\n  };\n  const HandleAddFriend = async user_id => {\n    localStorage.setItem(\"request\", user_id);\n    try {\n      axios.defaults.headers.common[\"Authorization\"] = token;\n      const res = await axios.post(\"http://127.0.0.1:5050/user/friendRequest\", {\n        request: user_id\n      });\n    } catch (err) {\n      toast.error(err.response.data.message);\n    }\n  };\n  const HandleUndoFriend = async user_id => {\n    try {\n      const res = await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\", {\n        data: {\n          user_id\n        }\n      });\n    } catch (err) {\n      toast.error(\"Error in deleting request\", err.response.data.message);\n    }\n  };\n  const handleUnfriend = async user_id => {\n    console.log(user_id);\n    try {\n      const res = await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\", {\n        data: {\n          user_id\n        }\n      });\n    } catch (err) {\n      toast.error(\"error in un friend\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row \",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-light \",\n            children: list && list.map((value, index) => {\n              var _value$friends, _value$friends2;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" row p-2  \",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-1 p-0 text-center justify-content-center d-flex\",\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\"),\n                        style: {\n                          width: 40\n                        },\n                        alt: \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 74,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 72,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col text-left \",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"m-0 \",\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: value.userName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 81,\n                          columnNumber: 73\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 81,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"\",\n                        children: [value.team || `Invite`, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 82,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 80,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-end\",\n                  children: [value.friends == null && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn bg-primary text-white fw-bold btn-sm\",\n                    onClick: () => HandleAddFriend(value._id),\n                    children: \"Add Friend\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 49\n                  }, this), value.friends && ((_value$friends = value.friends) === null || _value$friends === void 0 ? void 0 : _value$friends.status) == 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn bg-primary text-white fw-bold btn-sm\",\n                    onClick: () => HandleUndoFriend(value._id),\n                    children: \"Undo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 93\n                  }, this), value.friends && ((_value$friends2 = value.friends) === null || _value$friends2 === void 0 ? void 0 : _value$friends2.status) == 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn  text-white fw-bold btn-sm\",\n                      onClick: () => handleUnfriend(value._id),\n                      style: {\n                        background: \"#FF0833\"\n                      },\n                      children: \"UnFriend\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 41\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(FindFriend, \"ZBNfaudzy8bVxb8UgkyyMnLdlWY=\");\n_c = FindFriend;\nexport default FindFriend;\nvar _c;\n$RefreshReg$(_c, \"FindFriend\");","map":{"version":3,"names":["axios","useEffect","useState","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","FindFriend","_s","token","localStorage","getItem","list","setList","setfriend","defaults","headers","common","res","get","data","err","error","response","message","HandleAddFriend","user_id","setItem","post","request","HandleUndoFriend","delete","handleUnfriend","console","log","children","className","map","value","index","_value$friends","_value$friends2","src","require","style","width","alt","fileName","_jsxFileName","lineNumber","columnNumber","userName","team","friends","onClick","_id","status","background","_c","$RefreshReg$"],"sources":["/Volumes/Udata/GitHub/Playpal/frontend /src/Pages/user/findfriends.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\nconst FindFriend = () => {\n    const token = localStorage.getItem(\"token\");\n    const [list, setList] = useState([]);\n\n\n    useEffect(() => {\n        setfriend();\n    }, []);\n\n\n\n    const setfriend = async () => {\n        try {\n            axios.defaults.headers.common[\"Authorization\"] = token;\n            const res = await axios.get(\"http://127.0.0.1:5050/user/getFriend\");\n            setList(res.data);\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    };\n\n    const HandleAddFriend = async (user_id) => {\n        localStorage.setItem(\"request\", user_id)\n        try {\n            axios.defaults.headers.common[\"Authorization\"] = token;\n            const res = await axios.post(\"http://127.0.0.1:5050/user/friendRequest\", {\n                request: user_id,\n            });\n\n\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    };\n\n    const HandleUndoFriend = async (user_id) => {\n        try {\n            const res = await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\", {\n                data: { user_id }\n            })\n        } catch (err) {\n            toast.error(\"Error in deleting request\", err.response.data.message);\n        }\n    }\n\n    const handleUnfriend = async (user_id) => {\n        console.log(user_id)\n        try {\n            const res = await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\", {\n                data: { user_id }\n            })\n        } catch (err) {\n            toast.error(\"error in un friend\", err)\n        }\n    }\n\n    return (\n        <>\n            <div className=\"container-fluid \">\n                <div className=\"row \">\n                    <table>\n                        <tbody className=\"bg-light \">\n                            {list &&\n                                list.map((value, index) => (\n                                    <tr key={index}>\n                                        <td>\n                                            <div className=\" row p-2  \">\n                                                <div className=\"col-1 p-0 text-center justify-content-center d-flex\">\n                                                    {\" \"}\n                                                    <img\n                                                        src={require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\")}\n                                                        style={{ width: 40 }}\n                                                        alt=\"\"\n                                                    />\n                                                </div>\n                                                <div className=\"col text-left \">\n                                                    <p className=\"m-0 \"><strong>{value.userName}</strong></p>\n                                                    <span className=\"\">{value.team || `Invite`} </span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td className=\"text-end\">\n                                            {value.friends == null &&\n                                                <button\n                                                    className=\"btn bg-primary text-white fw-bold btn-sm\"\n                                                    onClick={() => HandleAddFriend(value._id)}\n                                                >\n                                                    Add Friend\n                                                </button>\n                                            }\n\n                                            {value.friends && value.friends?.status == 0 && <button\n                                                className=\"btn bg-primary text-white fw-bold btn-sm\"\n                                                onClick={() => HandleUndoFriend(value._id)}\n                                            >\n                                                Undo\n                                            </button>\n                                            }\n\n                                            {value.friends && value.friends?.status == 1 &&\n                                                (<>\n                                                    <button\n                                                        className=\"btn  text-white fw-bold btn-sm\"\n                                                        onClick={() => handleUnfriend(value._id)} style={{ background: \"#FF0833\" }}\n                                                    >\n                                                        UnFriend\n                                                    </button></>)\n                                            }\n                                        </td>\n                                    </tr>\n                                ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default FindFriend;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}