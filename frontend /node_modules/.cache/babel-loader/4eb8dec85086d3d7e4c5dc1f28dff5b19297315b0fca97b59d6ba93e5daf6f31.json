{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import toast from\"react-hot-toast\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Friends=()=>{const token=localStorage.getItem(\"token\");const[list,setList]=useState([]);const[searchResults,setSearchResults]=useState([]);const[output,setOutput]=useState(true);const{queryParams}=useParams();useEffect(()=>{setFriend();},[]);const setFriend=async()=>{try{axios.defaults.headers.common[\"Authorization\"]=token;const res=await axios.get(\"http://127.0.0.1:5050/user/search\");setList(res.data.users);}catch(err){toast.error(err.response.data.message);}};const handleSearch=async e=>{const searchQuery=e.target.value;if(searchQuery===\"\"){setSearchResults([]);setOutput(true);return;}try{const res=await axios.get(\"http://127.0.0.1:5050/user/searchFriend/\"+searchQuery);setSearchResults(res.data);setOutput(false);}catch(err){var _err$response,_err$response$data;toast.error(\"Error in searching friend: \"+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid px-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row px-5 py-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 text-center border-end border-start\",children:\"Friends\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 text-center border-end\",children:\"Teams\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control search-input px-5 rounded-3\",placeholder:\"\\uD83D\\uDD0E Search Your friends & opponents\",\"aria-label\":\"Search\",\"aria-describedby\":\"basic-addon1\",onKeyUp:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"row px-2\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{className:\"bg-light\",children:[output&&list.map((value,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1 p-0 text-center justify-content-center d-flex\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\"),style:{width:40},alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col text-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:/*#__PURE__*/_jsx(\"strong\",{children:value.userName})}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:value.team||\"Invite\"})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\"})]},index)),searchResults&&searchResults.map((value,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1 p-0 text-center justify-content-center d-flex\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\"),style:{width:40},alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col text-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:/*#__PURE__*/_jsx(\"strong\",{children:value.userName})}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:value.team||\"Invite\"})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\"})]},index))]})})}),searchResults.length===0&&!output&&/*#__PURE__*/_jsxs(\"div\",{class:\"loading \",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})]});};export default Friends;","map":{"version":3,"names":["axios","useEffect","useState","toast","useParams","jsx","_jsx","jsxs","_jsxs","Friends","token","localStorage","getItem","list","setList","searchResults","setSearchResults","output","setOutput","queryParams","setFriend","defaults","headers","common","res","get","data","users","err","error","response","message","handleSearch","e","searchQuery","target","value","_err$response","_err$response$data","className","children","type","placeholder","onKeyUp","map","index","src","require","style","width","alt","userName","team","length","class"],"sources":["/Volumes/Udata/GitHub/Playpal/frontend /src/components/search/friends.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useParams } from \"react-router-dom\";\n\nconst Friends = () => {\n    const token = localStorage.getItem(\"token\");\n    const [list, setList] = useState([]);\n    const [searchResults, setSearchResults] = useState([]);\n    const [output, setOutput] = useState(true);\n    const { queryParams } = useParams();\n\n    useEffect(() => {\n        setFriend();\n    }, []);\n\n    const setFriend = async () => {\n        try {\n            axios.defaults.headers.common[\"Authorization\"] = token;\n            const res = await axios.get(\"http://127.0.0.1:5050/user/search\");\n            setList(res.data.users);\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    };\n\n    const handleSearch = async (e) => {\n        const searchQuery = e.target.value;\n        if (searchQuery === \"\") {\n            setSearchResults([]);\n            setOutput(true);\n            return;\n        }\n\n        try {\n            const res = await axios.get(\"http://127.0.0.1:5050/user/searchFriend/\" + searchQuery);\n            setSearchResults(res.data);\n            setOutput(false);\n        } catch (err) {\n            toast.error(\"Error in searching friend: \" + (err.response?.data?.message || err.message));\n        }\n    };\n\n    return (\n        <div className=\"container-fluid px-5\">\n            <div className=\"row px-5 py-3\">\n                <div className=\"col-6 text-center border-end border-start\">\n                    Friends\n                </div>\n                <div className=\"col-6 text-center border-end\">\n                    Teams\n                </div>\n            </div>\n            <input\n                type=\"text\"\n                className=\"form-control search-input px-5 rounded-3\"\n                placeholder=\"ðŸ”Ž Search Your friends & opponents\"\n                aria-label=\"Search\"\n                aria-describedby=\"basic-addon1\"\n                onKeyUp={handleSearch}\n            />\n            <div className=\"row px-2\">\n                <table>\n                    <tbody className=\"bg-light\">\n                        {output &&\n                            list.map((value, index) => (\n                                <tr key={index}>\n                                    <td>\n                                        <div className=\"row p-2\">\n                                            <div className=\"col-1 p-0 text-center justify-content-center d-flex\">\n                                                <img\n                                                    src={require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\")}\n                                                    style={{ width: 40 }}\n                                                    alt=\"\"\n                                                />\n                                            </div>\n                                            <div className=\"col text-left\">\n                                                <p className=\"m-0\"><strong>{value.userName}</strong></p>\n                                                <span className=\"\">{value.team || `Invite`}</span>\n                                            </div>\n                                        </div>\n                                    </td>\n                                    <td className=\"text-end\"></td>\n                                </tr>\n                            ))\n                        }\n                        {searchResults && searchResults.map((value, index) => (\n                            <tr key={index}>\n                                <td>\n                                    <div className=\"row p-2\">\n                                        <div className=\"col-1 p-0 text-center justify-content-center d-flex\">\n                                            <img\n                                                src={require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\")}\n                                                style={{ width: 40 }}\n                                                alt=\"\"\n                                            />\n                                        </div>\n                                        <div className=\"col text-left\">\n                                            <p className=\"m-0\"><strong>{value.userName}</strong></p>\n                                            <span className=\"\">{value.team || `Invite`}</span>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"text-end\"></td>\n                            </tr>\n                        ))}\n\n                    </tbody>\n                </table>\n\n            </div>\n            {searchResults.length === 0 && !output && (\n\n                <div class=\"loading \">\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                </div>\n\n            )}\n        </div>\n\n    );\n};\n\nexport default Friends;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}