{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Request=()=>{const[request,setRequest]=useState([]);const token=localStorage.getItem('token');useEffect(()=>{setNotification();},[]);const setNotification=async()=>{axios.defaults.headers.common[\"Authorization\"]=token;const res=await axios.get(\"http://127.0.0.1:5050/user/getNotification\");setRequest(res.data);};const hnadleApproval=async approve=>{const res=await axios.put(\"http://127.0.0.1:5050/user/approvalRequest\",{approve});};const hnadleCancel=async user_id=>{try{const res=await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\",{data:{user_id}});}catch(err){toast.error(err.response.data.message);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row p-2\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-light  \",children:request&&request.map((value,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\" row p-2  \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-1 p-0 text-center justify-content-center d-flex\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\"),style:{width:40},alt:\"\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-left \",children:/*#__PURE__*/_jsxs(\"p\",{className:\" \",children:[\"You have a friend requiest from \",/*#__PURE__*/_jsx(\"strong\",{children:value.user_id.userName})]})})]},index)}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-end\",children:[value.status==1&&/*#__PURE__*/_jsx(\"button\",{className:\"btn text-white fw-bold btn-sm\",style:{background:\"#FF0833\"},children:\"Friends\"}),value.status==0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-primary text-white fw-bold btn-sm me-1  \",onClick:()=>hnadleApproval(value._id),children:\"Accept\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-primary text-white fw-bold btn-sm\",onClick:()=>hnadleCancel(value.request),children:\"Cancel\"})]})]})]}))})})})});};export default Request;","map":{"version":3,"names":["axios","useEffect","useState","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Request","request","setRequest","token","localStorage","getItem","setNotification","defaults","headers","common","res","get","data","hnadleApproval","approve","put","hnadleCancel","user_id","delete","err","error","response","message","children","className","map","value","index","src","require","style","width","alt","userName","status","background","onClick","_id"],"sources":["/Volumes/Udata/GitHub/Playpal/frontend /src/Pages/user/request.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\nconst Request = () => {\n    const [request, setRequest] = useState([])\n\n    const token = localStorage.getItem('token')\n    useEffect(() => {\n        setNotification();\n    }, [])\n\n    const setNotification = async () => {\n        axios.defaults.headers.common[\"Authorization\"] = token;\n        const res = await axios.get(\"http://127.0.0.1:5050/user/getNotification\")\n        setRequest(res.data);\n    }\n\n    const hnadleApproval = async (approve) => {\n        const res = await axios.put(\"http://127.0.0.1:5050/user/approvalRequest\", { approve })\n    }\n\n    const hnadleCancel = async (user_id) => {\n        try {\n            const res = await axios.delete(\"http://127.0.0.1:5050/user/deleteRequest\", {\n                data: { user_id }\n            })\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    }\n\n    return (<>\n        <div className=\"row p-2\">\n            <table>\n                <tbody className=\"bg-light  \">\n                    {request && request.map((value, index) => (\n                        <tr>\n                            <td>\n\n                                <div className=\" row p-2  \" key={index}>\n                                    <div className=\"col-1 p-0 text-center justify-content-center d-flex\">\n                                        {\" \"}\n                                        <img\n                                            src={require(\"../../assets/1711859084821_kz1JoJrA8g7c.jpg\")}\n                                            style={{ width: 40 }}\n                                            alt=\"\"\n                                        />\n                                    </div>\n                                    <div className=\"col text-left \">\n                                        <p className=\" \">You have a friend requiest from <strong>{value.user_id.userName}</strong></p>\n\n                                    </div>\n                                </div>\n                            </td>\n                            <td className=\"text-end\">\n                                {value.status == 1 && (<button className=\"btn text-white fw-bold btn-sm\" style={{ background: \"#FF0833\" }}>Friends</button>)}\n                                {value.status == 0 && (\n                                    <div>\n                                        <button className=\"btn bg-primary text-white fw-bold btn-sm me-1  \" onClick={() => hnadleApproval(value._id)}>Accept</button>\n                                        <button className=\"btn bg-primary text-white fw-bold btn-sm\" onClick={() => hnadleCancel(value.request)}>Cancel</button>\n                                    </div>)}\n                            </td>\n\n                        </tr>\n                    ))}\n\n                </tbody>\n            </table>\n        </div>\n    </>)\n}\nexport default Request"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}