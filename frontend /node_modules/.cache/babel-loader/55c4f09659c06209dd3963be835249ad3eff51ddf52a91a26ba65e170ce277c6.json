{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserProfile=()=>{const token=localStorage.getItem('token');const[user,setUser]=useState({});const[isEdit,setIsEdit]=useState(false);const[editedUser,setEditedUser]=useState(user);useEffect(()=>{getUser();},[]);const getUser=async()=>{try{const res=await axios.get(\"http://127.0.0.1:5050/user/getProfile\");setUser(res.data.data);setEditedUser(res.data.data);}catch(err){toast.error(err.response.data.message);}};const handleEdit=()=>{setIsEdit(!isEdit);};const handleSave=async()=>{try{axios.defaults.headers.common['Authorization']=token;const res=await axios.put(\"http://127.0.0.1:5050/user/updateProfile\",editedUser);toast.success(\"Profile updated successfully!\");}catch(err){toast.error(err.response.data.message);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"py-3\",children:\"Your Profile \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row p-2  \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 from-control \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2  \",children:\"User name \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:editedUser===null||editedUser===void 0?void 0:editedUser.userName,id:\"userName\",onChange:e=>setEditedUser({...editedUser,userName:e.target.value}),readOnly:!isEdit}),/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2   \",children:\"Email \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:editedUser===null||editedUser===void 0?void 0:editedUser.email,id:\"email\",onChange:e=>setEditedUser({...editedUser,email:e.target.value}),readOnly:!isEdit}),/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2   \",children:\"Phone No. \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:editedUser===null||editedUser===void 0?void 0:editedUser.phoneNumber,id:\"phoneNumber\",onChange:e=>setEditedUser({...editedUser,phoneNumber:e.target.value}),readOnly:!isEdit}),/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2   \",children:\"Address \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:editedUser===null||editedUser===void 0?void 0:editedUser.address,id:\"address\",onChange:e=>setEditedUser({...editedUser,address:e.target.value}),readOnly:!isEdit})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2  s \",children:\"Gender\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:\"---\",id:\"gender\",readOnly:!isEdit}),/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2   \",children:\"Date of  \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:\"----\",id:\"dateOfBirth\",readOnly:!isEdit}),/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2   \",children:\"User name \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:editedUser.userName,id:\"userName\",readOnly:!isEdit}),/*#__PURE__*/_jsx(\"span\",{className:\"p-1 px-2   \",children:\"User name \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-secondary mb-3\",type:\"text\",value:editedUser.userName,id:\"userName\",readOnly:!isEdit})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end  \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-1 py-2 text-end px-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:isEdit?handleSave:handleEdit,children:isEdit?\"Save\":\"Edit\"})})})]});};export default UserProfile;","map":{"version":3,"names":["axios","useEffect","useState","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserProfile","token","localStorage","getItem","user","setUser","isEdit","setIsEdit","editedUser","setEditedUser","getUser","res","get","data","err","error","response","message","handleEdit","handleSave","defaults","headers","common","put","success","children","className","type","value","userName","id","onChange","e","target","readOnly","email","phoneNumber","address","onClick"],"sources":["/Volumes/Udata/GitHub/Playpal/frontend /src/Pages/user/userprofile.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\nconst UserProfile = () => {\n    const token = localStorage.getItem('token')\n    const [user, setUser] = useState({});\n    const [isEdit, setIsEdit] = useState(false)\n    const [editedUser, setEditedUser] = useState(user)\n\n    useEffect(() => {\n        getUser();\n    }, []);\n\n    const getUser = async () => {\n        try {\n            const res = await axios.get(\"http://127.0.0.1:5050/user/getProfile\");\n            setUser(res.data.data);\n            setEditedUser(res.data.data)\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    };\n\n\n\n    const handleEdit = () => {\n        setIsEdit(!isEdit);\n    }\n\n    const handleSave = async () => {\n        try {\n            axios.defaults.headers.common['Authorization'] = token\n            const res = await axios.put(\"http://127.0.0.1:5050/user/updateProfile\", editedUser)\n            toast.success(\"Profile updated successfully!\");\n\n\n        } catch (err) {\n            toast.error(err.response.data.message);\n        }\n    }\n\n\n    return (\n        <>\n\n            <h3 className=\"py-3\">Your Profile </h3>\n            <br />\n            <div className=\"row p-2  \">\n                <div className=\"col-6 from-control \">\n                    <span className=\"p-1 px-2  \">User name </span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={editedUser?.userName}\n                        id=\"userName\"\n                        onChange={(e) => setEditedUser({ ...editedUser, userName: e.target.value })}\n                        readOnly={!isEdit}\n                    />\n                    <span className=\"p-1 px-2   \">Email </span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={editedUser?.email}\n                        id=\"email\"\n                        onChange={(e) => setEditedUser({ ...editedUser, email: e.target.value })}\n                        readOnly={!isEdit} />\n                    <span className=\"p-1 px-2   \">Phone No. </span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={editedUser?.phoneNumber}\n                        id=\"phoneNumber\"\n                        onChange={(e) => setEditedUser({ ...editedUser, phoneNumber: e.target.value })}\n                        readOnly={!isEdit} />\n                    <span className=\"p-1 px-2   \">Address </span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={editedUser?.address}\n                        id=\"address\"\n                        onChange={(e) => setEditedUser({ ...editedUser, address: e.target.value })}\n                        readOnly={!isEdit} />\n                </div>\n                <div className=\"col-6\">\n                    <span className=\"p-1 px-2  s \">Gender</span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={\"---\"}\n                        id=\"gender\"\n                        readOnly={!isEdit} />\n                    <span className=\"p-1 px-2   \">Date of  </span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={\"----\"}\n                        id=\"dateOfBirth\"\n                        readOnly={!isEdit} />\n                    <span className=\"p-1 px-2   \">User name </span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={editedUser.userName}\n                        id=\"userName\"\n                        readOnly={!isEdit} />\n                    <span className=\"p-1 px-2   \">User name </span>\n                    <input\n                        className=\"form-control text-secondary mb-3\"\n                        type=\"text\"\n                        value={editedUser.userName}\n                        id=\"userName\"\n                        readOnly={!isEdit} />\n                </div>\n            </div>\n            <div className=\"d-flex justify-content-end  \">\n                <div className=\"col-1 py-2 text-end px-2\">\n                    <button className=\"btn btn-primary\" onClick={isEdit ? handleSave : handleEdit}>\n                        {isEdit ? \"Save\" : \"Edit\"}\n                    </button>\n                </div>\n\n            </div >\n\n        </>\n    )\n}\n\nexport default UserProfile"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}